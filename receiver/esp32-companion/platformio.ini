[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

lib_deps =
  bblanchon/ArduinoJson@^7.1.0
  file://resources/libraries/TFT_eSPI
  paulstoffregen/XPT2046_Touchscreen
  file://resources/libraries/lvgl

build_flags =
  -DCORE_DEBUG_LEVEL=0
  -Wall
  -Wextra
  -D LV_CONF_INCLUDE_SIMPLE=1
  ; Enable bitmap fonts for text rendering with USER_SETUP_LOADED
  -D LOAD_GLCD=1
  -D LOAD_FONT2=1
  ; CrowPanel 3.5-inch HMI (ILI9488, 320x480 portrait panel)
  ; Rotation=1 yields 480x320 landscape in firmware.
  -D USER_SETUP_LOADED=1
  -D ILI9488_DRIVER=1
  -D TFT_WIDTH=320
  -D TFT_HEIGHT=480
  -D TFT_MISO=33
  -D TFT_MOSI=13
  -D TFT_SCLK=14
  -D TFT_CS=15
  -D TFT_DC=2
  -D TFT_RST=-1
  -D TFT_BL=27
  -D TOUCH_CS=12
  -D SPI_FREQUENCY=60000000
  -D SPI_READ_FREQUENCY=70000000
  -D SPI_TOUCH_FREQUENCY=600000

[env:esp32dev-touch-cal-auto]
extends = env:esp32dev
build_flags =
  ${env:esp32dev.build_flags}
  -D AUTO_TOUCH_CALIBRATION_AT_BOOT=1

[env:esp32dev-ota]
extends = env:esp32dev
upload_protocol = espota
; Use OTA hostname or static IP (example: esp32-companion.local)
upload_port = 192.168.1.127
; upload_port = esp32-companion.local
; If OTA_PASSWORD is set in include/config.h, provide auth flag here.
; upload_flags = --auth=your_ota_password

[env:esp32dev-tty-echo-alt-uart]
extends = env:esp32dev-tty-echo
build_flags =
  ${env:esp32dev-tty-echo.build_flags}
  -D TTY_ECHO_UART_RX_PIN=16
  -D TTY_ECHO_UART_TX_PIN=17

[env:esp32dev-tty-echo]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

lib_deps =
  bblanchon/ArduinoJson@^7.1.0
  bodmer/TFT_eSPI@^2.5.43
  paulstoffregen/XPT2046_Touchscreen

build_flags =
  -DCORE_DEBUG_LEVEL=0
  -Wall
  -Wextra
  -D TTY_ECHO_TEST=1
  ; Enable bitmap fonts for text rendering with USER_SETUP_LOADED
  -D LOAD_GLCD=1
  -D LOAD_FONT2=1
  ; LCDWiki E32R32P/E32N32P default pin map (from manual)
  -D USER_SETUP_LOADED=1
  -D ST7789_DRIVER=1
  -D TFT_WIDTH=240
  -D TFT_HEIGHT=320
  -D TFT_MISO=12
  -D TFT_MOSI=13
  -D TFT_SCLK=14
  -D TFT_CS=15
  -D TFT_DC=2
  -D TFT_RST=-1
  -D TFT_BL=27
  -D TOUCH_CS=33
  -D SPI_FREQUENCY=10000000
  -D SPI_READ_FREQUENCY=6000000

[env:esp32dev-touch-probe]
extends = env:esp32dev
build_flags =
  ${env:esp32dev.build_flags}
  -D TOUCH_PROBE_TEST=1

[env:esp32dev-touch-echo]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

lib_deps =
  bblanchon/ArduinoJson@^7.1.0
  bodmer/TFT_eSPI@^2.5.43
  paulstoffregen/XPT2046_Touchscreen

build_flags =
  -DCORE_DEBUG_LEVEL=0
  -Wall
  -Wextra
  -D TOUCH_ECHO_TEST=1
  ; Enable bitmap fonts for text rendering with USER_SETUP_LOADED
  -D LOAD_GLCD=1
  -D LOAD_FONT2=1
  ; LCDWiki E32R32P/E32N32P default pin map (from manual)
  -D USER_SETUP_LOADED=1
  -D ST7789_DRIVER=1
  -D TFT_WIDTH=240
  -D TFT_HEIGHT=320
  -D TFT_MISO=12
  -D TFT_MOSI=13
  -D TFT_SCLK=14
  -D TFT_CS=15
  -D TFT_DC=2
  -D TFT_RST=-1
  -D TFT_BL=27
  -D TOUCH_CS=33
  -D SPI_FREQUENCY=10000000
  -D SPI_READ_FREQUENCY=6000000
